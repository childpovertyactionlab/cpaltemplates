<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Colors &amp; Palettes – cpaltemplates</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">cpaltemplates</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./getting-started.html"> 
<span class="menu-text">Get Started</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-functions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Functions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-functions">    
        <li>
    <a class="dropdown-item" href="./colors-palettes.html">
 <span class="dropdown-text">Colors &amp; Palettes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./themes-styling.html">
 <span class="dropdown-text">Themes &amp; Styling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./plots-visualizations.html">
 <span class="dropdown-text">Plots &amp; Visualizations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./interactive-features.html">
 <span class="dropdown-text">Interactive Features</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./tables-gt.html">
 <span class="dropdown-text">Tables &amp; GT Styling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./project-setup.html">
 <span class="dropdown-text">Project Setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./utilities-helpers.html">
 <span class="dropdown-text">Utilities &amp; Helpers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./workflow-integration.html"> 
<span class="menu-text">Workflows</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./troubleshooting.html"> 
<span class="menu-text">Troubleshooting</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#why-color-matters-in-data-visualization" id="toc-why-color-matters-in-data-visualization" class="nav-link active" data-scroll-target="#why-color-matters-in-data-visualization">Why Color Matters in Data Visualization</a>
  <ul class="collapse">
  <li><a href="#when-colors-go-wrong" id="toc-when-colors-go-wrong" class="nav-link" data-scroll-target="#when-colors-go-wrong"><strong>When Colors Go Wrong</strong></a></li>
  </ul></li>
  <li><a href="#cpal-color-system-overview" id="toc-cpal-color-system-overview" class="nav-link" data-scroll-target="#cpal-color-system-overview">CPAL Color System Overview</a>
  <ul class="collapse">
  <li><a href="#the-science-behind-the-choices" id="toc-the-science-behind-the-choices" class="nav-link" data-scroll-target="#the-science-behind-the-choices"><strong>The Science Behind the Choices</strong></a></li>
  </ul></li>
  <li><a href="#core-functions-overview" id="toc-core-functions-overview" class="nav-link" data-scroll-target="#core-functions-overview">Core Functions Overview</a></li>
  <li><a href="#brand-colors-cpals-core-identity" id="toc-brand-colors-cpals-core-identity" class="nav-link" data-scroll-target="#brand-colors-cpals-core-identity">Brand Colors: CPAL’s Core Identity</a>
  <ul class="collapse">
  <li><a href="#primary-colors" id="toc-primary-colors" class="nav-link" data-scroll-target="#primary-colors"><strong>Primary Colors</strong></a></li>
  <li><a href="#extended-colors" id="toc-extended-colors" class="nav-link" data-scroll-target="#extended-colors"><strong>Extended Colors</strong></a></li>
  </ul></li>
  <li><a href="#categorical-palettes-for-groups-and-classifications" id="toc-categorical-palettes-for-groups-and-classifications" class="nav-link" data-scroll-target="#categorical-palettes-for-groups-and-classifications">Categorical Palettes: For Groups and Classifications</a>
  <ul class="collapse">
  <li><a href="#main-categorical-palette" id="toc-main-categorical-palette" class="nav-link" data-scroll-target="#main-categorical-palette"><strong>Main Categorical Palette</strong></a></li>
  <li><a href="#extended-categorical-options" id="toc-extended-categorical-options" class="nav-link" data-scroll-target="#extended-categorical-options"><strong>Extended Categorical Options</strong></a></li>
  <li><a href="#common-categorical-color-mistakes-to-avoid" id="toc-common-categorical-color-mistakes-to-avoid" class="nav-link" data-scroll-target="#common-categorical-color-mistakes-to-avoid"><strong>Common Categorical Color Mistakes to Avoid</strong></a></li>
  </ul></li>
  <li><a href="#sequential-palettes-for-continuous-data" id="toc-sequential-palettes-for-continuous-data" class="nav-link" data-scroll-target="#sequential-palettes-for-continuous-data">Sequential Palettes: For Continuous Data</a>
  <ul class="collapse">
  <li><a href="#single-hue-sequential-teal" id="toc-single-hue-sequential-teal" class="nav-link" data-scroll-target="#single-hue-sequential-teal"><strong>Single-Hue Sequential (Teal)</strong></a></li>
  <li><a href="#multi-hue-sequential-yellow-teal" id="toc-multi-hue-sequential-yellow-teal" class="nav-link" data-scroll-target="#multi-hue-sequential-yellow-teal"><strong>Multi-Hue Sequential (Yellow-Teal)</strong></a></li>
  <li><a href="#choosing-sequential-palette-length" id="toc-choosing-sequential-palette-length" class="nav-link" data-scroll-target="#choosing-sequential-palette-length"><strong>Choosing Sequential Palette Length</strong></a></li>
  </ul></li>
  <li><a href="#diverging-palettes-for-data-with-a-meaningful-center" id="toc-diverging-palettes-for-data-with-a-meaningful-center" class="nav-link" data-scroll-target="#diverging-palettes-for-data-with-a-meaningful-center">Diverging Palettes: For Data with a Meaningful Center</a>
  <ul class="collapse">
  <li><a href="#pink-teal-diverging" id="toc-pink-teal-diverging" class="nav-link" data-scroll-target="#pink-teal-diverging"><strong>Pink-Teal Diverging</strong></a></li>
  <li><a href="#practical-applications" id="toc-practical-applications" class="nav-link" data-scroll-target="#practical-applications"><strong>Practical Applications</strong></a></li>
  <li><a href="#critical-design-decisions" id="toc-critical-design-decisions" class="nav-link" data-scroll-target="#critical-design-decisions"><strong>Critical Design Decisions</strong></a></li>
  </ul></li>
  <li><a href="#advanced-usage-and-customization" id="toc-advanced-usage-and-customization" class="nav-link" data-scroll-target="#advanced-usage-and-customization">Advanced Usage and Customization</a>
  <ul class="collapse">
  <li><a href="#exploring-available-palettes" id="toc-exploring-available-palettes" class="nav-link" data-scroll-target="#exploring-available-palettes"><strong>Exploring Available Palettes</strong></a></li>
  <li><a href="#getting-specific-colors" id="toc-getting-specific-colors" class="nav-link" data-scroll-target="#getting-specific-colors"><strong>Getting Specific Colors</strong></a></li>
  <li><a href="#integration-with-ggplot2" id="toc-integration-with-ggplot2" class="nav-link" data-scroll-target="#integration-with-ggplot2"><strong>Integration with ggplot2</strong></a></li>
  <li><a href="#exploring-and-choosing-palettes" id="toc-exploring-and-choosing-palettes" class="nav-link" data-scroll-target="#exploring-and-choosing-palettes"><strong>Exploring and Choosing Palettes</strong></a></li>
  </ul></li>
  <li><a href="#best-practices-and-guidelines" id="toc-best-practices-and-guidelines" class="nav-link" data-scroll-target="#best-practices-and-guidelines">Best Practices and Guidelines</a>
  <ul class="collapse">
  <li><a href="#color-selection-decision-tree" id="toc-color-selection-decision-tree" class="nav-link" data-scroll-target="#color-selection-decision-tree"><strong>Color Selection Decision Tree</strong></a></li>
  <li><a href="#accessibility-considerations" id="toc-accessibility-considerations" class="nav-link" data-scroll-target="#accessibility-considerations"><strong>Accessibility Considerations</strong></a></li>
  <li><a href="#common-use-cases-and-recommendations" id="toc-common-use-cases-and-recommendations" class="nav-link" data-scroll-target="#common-use-cases-and-recommendations"><strong>Common Use Cases and Recommendations</strong></a></li>
  <li><a href="#performance-and-technical-considerations" id="toc-performance-and-technical-considerations" class="nav-link" data-scroll-target="#performance-and-technical-considerations"><strong>Performance and Technical Considerations</strong></a></li>
  </ul></li>
  <li><a href="#troubleshooting-common-issues" id="toc-troubleshooting-common-issues" class="nav-link" data-scroll-target="#troubleshooting-common-issues">Troubleshooting Common Issues</a>
  <ul class="collapse">
  <li><a href="#colors-not-appearing" id="toc-colors-not-appearing" class="nav-link" data-scroll-target="#colors-not-appearing"><strong>Colors Not Appearing</strong></a></li>
  <li><a href="#colors-look-different-than-expected" id="toc-colors-look-different-than-expected" class="nav-link" data-scroll-target="#colors-look-different-than-expected"><strong>Colors Look Different Than Expected</strong></a></li>
  <li><a href="#palette-too-longshort-for-data" id="toc-palette-too-longshort-for-data" class="nav-link" data-scroll-target="#palette-too-longshort-for-data"><strong>Palette Too Long/Short for Data</strong></a></li>
  </ul></li>
  <li><a href="#examples-and-implementation" id="toc-examples-and-implementation" class="nav-link" data-scroll-target="#examples-and-implementation">Examples and Implementation</a>
  <ul class="collapse">
  <li><a href="#complete-workflow-example" id="toc-complete-workflow-example" class="nav-link" data-scroll-target="#complete-workflow-example"><strong>Complete Workflow Example</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Colors &amp; Palettes</h1>
<p class="subtitle lead">CPAL’s comprehensive color system for data visualization</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="why-color-matters-in-data-visualization" class="level2">
<h2 class="anchored" data-anchor-id="why-color-matters-in-data-visualization">Why Color Matters in Data Visualization</h2>
<p>Color is one of the most powerful tools in data visualization, but it’s also one of the most commonly misused. <strong>Poor color choices can mislead your audience, make data inaccessible to colorblind users, or simply make your visualizations look unprofessional.</strong></p>
<p>The cpaltemplates color system solves these problems by providing:</p>
<ul>
<li><strong>Brand consistency</strong>: All colors align with CPAL’s visual identity</li>
<li><strong>Accessibility built-in</strong>: All palettes are tested for colorblind accessibility<br>
</li>
<li><strong>Data-type appropriate</strong>: Different palettes optimized for different kinds of data</li>
<li><strong>Professional quality</strong>: Colors chosen by design professionals, not left to chance</li>
</ul>
<section id="when-colors-go-wrong" class="level3">
<h3 class="anchored" data-anchor-id="when-colors-go-wrong"><strong>When Colors Go Wrong</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Common Problem</strong></th>
<th><strong>Why It Happens</strong></th>
<th><strong>CPAL Solution</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Categories look ranked</strong></td>
<td>Using sequential colors for unordered categories</td>
<td>Categorical palettes with distinct, unordered colors</td>
</tr>
<tr class="even">
<td><strong>Can’t see differences</strong></td>
<td>Colors too similar or poor contrast</td>
<td>High-contrast palettes tested for visibility</td>
</tr>
<tr class="odd">
<td><strong>Colorblind users excluded</strong></td>
<td>No testing for color vision deficiency</td>
<td>All palettes verified for colorblind accessibility</td>
</tr>
<tr class="even">
<td><strong>Inconsistent branding</strong></td>
<td>Random color choices across projects</td>
<td>Standardized brand color system</td>
</tr>
<tr class="odd">
<td><strong>Data misinterpreted</strong></td>
<td>Wrong palette type for data structure</td>
<td>Clear guidance on palette selection</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cpal-color-system-overview" class="level2">
<h2 class="anchored" data-anchor-id="cpal-color-system-overview">CPAL Color System Overview</h2>
<p>The cpaltemplates package provides <strong>23 distinct color palettes</strong> organized into <strong>4 main categories</strong>, each designed for specific types of data and use cases:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 31%">
<col style="width: 22%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Category</strong></th>
<th><strong>Palettes Available</strong></th>
<th><strong>Purpose</strong></th>
<th><strong>When to Use</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Brand Colors</strong></td>
<td>2 palettes</td>
<td>Core CPAL colors</td>
<td>Individual color needs, brand elements</td>
</tr>
<tr class="even">
<td><strong>Categorical</strong></td>
<td>8 palettes</td>
<td>Unordered categories</td>
<td>Groups, categories, classifications</td>
</tr>
<tr class="odd">
<td><strong>Sequential</strong></td>
<td>6 palettes</td>
<td>Continuous data</td>
<td>Quantities, ranks, progressions</td>
</tr>
<tr class="even">
<td><strong>Diverging</strong></td>
<td>3 palettes</td>
<td>Data with meaningful center</td>
<td>Changes from baseline, comparisons</td>
</tr>
</tbody>
</table>
<section id="the-science-behind-the-choices" class="level3">
<h3 class="anchored" data-anchor-id="the-science-behind-the-choices"><strong>The Science Behind the Choices</strong></h3>
<p><strong>Why these specific colors?</strong> CPAL’s color palettes are built on color theory principles:</p>
<ul>
<li><strong>Perceptual uniformity</strong>: Equal visual steps between colors represent equal data steps</li>
<li><strong>Cultural considerations</strong>: Colors chosen to avoid cultural biases or negative associations</li>
<li><strong>Technical requirements</strong>: Colors work across digital displays, print, and projection</li>
<li><strong>Accessibility standards</strong>: Meet WCAG guidelines for color contrast and colorblind visibility</li>
</ul>
</section>
</section>
<section id="core-functions-overview" class="level2">
<h2 class="anchored" data-anchor-id="core-functions-overview">Core Functions Overview</h2>
<p>cpaltemplates provides <strong>7 main color functions</strong> that work together to give you complete control over CPAL’s color system:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Function</strong></th>
<th><strong>Purpose</strong></th>
<th><strong>Returns</strong></th>
<th><strong>Primary Use</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cpal_colors()</code></td>
<td>Get specific colors or palettes</td>
<td>Vector of hex codes</td>
<td>Building custom visualizations</td>
</tr>
<tr class="even">
<td><code>scale_color_cpal()</code></td>
<td>Apply CPAL colors to ggplot2 color aesthetic</td>
<td>ggplot2 scale object</td>
<td>Automatic ggplot2 integration</td>
</tr>
<tr class="odd">
<td><code>scale_fill_cpal()</code></td>
<td>Apply CPAL colors to ggplot2 fill aesthetic</td>
<td>ggplot2 scale object</td>
<td>Automatic ggplot2 integration</td>
</tr>
<tr class="even">
<td><code>view_cpal_palettes()</code></td>
<td>Display all or specific palettes with options</td>
<td>Visual display</td>
<td>Choosing and exploring palettes</td>
</tr>
<tr class="odd">
<td><code>quick_palette()</code></td>
<td>Simple palette preview</td>
<td>Visual display</td>
<td>Quick palette reference</td>
</tr>
<tr class="even">
<td><code>list_cpal_palettes()</code></td>
<td>List available palettes with details</td>
<td>Character vector or list</td>
<td>Programmatic palette discovery</td>
</tr>
</tbody>
</table>
</section>
<section id="brand-colors-cpals-core-identity" class="level2">
<h2 class="anchored" data-anchor-id="brand-colors-cpals-core-identity">Brand Colors: CPAL’s Core Identity</h2>
<section id="primary-colors" class="level3">
<h3 class="anchored" data-anchor-id="primary-colors"><strong>Primary Colors</strong></h3>
<p><strong>When to use:</strong> Individual color needs, accent colors, brand elements in visualizations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get CPAL's primary brand colors</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"primary"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Access individual colors by name</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"midnight"</span>)  <span class="co"># CPAL's primary brand color: #004855</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"teal"</span>)      <span class="co"># CPAL's signature teal: #008097</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"pink"</span>)      <span class="co"># Brand pink: #C3257B  </span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"orange"</span>)    <span class="co"># Brand orange: #ED683F</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"gold"</span>)      <span class="co"># Brand gold: #AB8C01</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>CPAL’s primary color palette:</strong> - <strong>Midnight (#004855)</strong>: CPAL’s main brand color, deep and authoritative, used throughout the organization - <strong>Teal (#008097)</strong>: CPAL’s signature color, professional and trustworthy - <strong>Pink (#C3257B)</strong>: Energy and passion, used for highlights and callouts - <strong>Orange (#ED683F)</strong>: Warmth and engagement, great for calls-to-action - <strong>Gold (#AB8C01)</strong>: Premium feel, used for emphasis and key findings</p>
</section>
<section id="extended-colors" class="level3">
<h3 class="anchored" data-anchor-id="extended-colors"><strong>Extended Colors</strong></h3>
<p><strong>When to use:</strong> When you need more color options than the primary set, but still want brand consistency.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the full extended palette</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"extended"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>What’s included:</strong> The extended palette includes primary colors plus additional shades and complementary colors that maintain brand consistency while providing more variety for complex visualizations.</p>
<p><strong>Practical applications:</strong> - Complex charts with many categories - Dashboard elements that need varied but consistent colors<br>
- Supporting visual elements that shouldn’t compete with primary colors</p>
</section>
</section>
<section id="categorical-palettes-for-groups-and-classifications" class="level2">
<h2 class="anchored" data-anchor-id="categorical-palettes-for-groups-and-classifications">Categorical Palettes: For Groups and Classifications</h2>
<p><strong>The challenge with categorical data:</strong> Categories have no inherent order, so colors shouldn’t imply ranking or progression. Traditional rainbow palettes often create false hierarchies.</p>
<p><strong>CPAL’s solution:</strong> Carefully selected colors that are visually distinct but don’t suggest any ordering.</p>
<section id="main-categorical-palette" class="level3">
<h3 class="anchored" data-anchor-id="main-categorical-palette"><strong>Main Categorical Palette</strong></h3>
<p><strong>When to use:</strong> Most categorical visualizations with 2-5 categories.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The most commonly used categorical palette</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use in ggplot2</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"main"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>What makes this palette special:</strong> - <strong>5 distinct colors</strong> that work well together - <strong>No implied ordering</strong> - each color has equal visual weight - <strong>High contrast</strong> ensures categories are easily distinguishable - <strong>Colorblind safe</strong> - maintains distinctness for all color vision types</p>
</section>
<section id="extended-categorical-options" class="level3">
<h3 class="anchored" data-anchor-id="extended-categorical-options"><strong>Extended Categorical Options</strong></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For fewer categories, use optimized subsets</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main_3"</span>)    <span class="co"># Perfect for 3-category data</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main_4"</span>)    <span class="co"># Optimal for 4-category data</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># For special cases</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main_gray"</span>) <span class="co"># Includes neutral gray for "other/none" category</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"blues"</span>)     <span class="co"># Two-color palette for binary comparisons</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"compare"</span>)   <span class="co"># Optimized for before/after comparisons</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Choosing the right categorical palette:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 45%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Your Data</strong></th>
<th><strong>Recommended Palette</strong></th>
<th><strong>Why</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2-3 categories</td>
<td><code>"main_3"</code></td>
<td>Optimal color spacing, maximum distinction</td>
</tr>
<tr class="even">
<td>4 categories</td>
<td><code>"main_4"</code></td>
<td>Balanced set without visual overload</td>
</tr>
<tr class="odd">
<td>5+ categories</td>
<td><code>"main"</code></td>
<td>Full palette, but consider simplifying data</td>
</tr>
<tr class="even">
<td>Binary comparison</td>
<td><code>"compare"</code></td>
<td>High contrast, clear opposition</td>
</tr>
<tr class="odd">
<td>Has “other/none” category</td>
<td><code>"main_gray"</code></td>
<td>Gray appropriately de-emphasizes</td>
</tr>
</tbody>
</table>
</section>
<section id="common-categorical-color-mistakes-to-avoid" class="level3">
<h3 class="anchored" data-anchor-id="common-categorical-color-mistakes-to-avoid"><strong>Common Categorical Color Mistakes to Avoid</strong></h3>
<p>❌ <strong>Don’t do this:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using sequential colors for categories (implies false order)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"lightblue"</span>, <span class="at">high =</span> <span class="st">"darkblue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>✅ <strong>Do this instead:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use categorical colors that don't imply order</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"main"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sequential-palettes-for-continuous-data" class="level2">
<h2 class="anchored" data-anchor-id="sequential-palettes-for-continuous-data">Sequential Palettes: For Continuous Data</h2>
<p><strong>The principle:</strong> Sequential data goes from low to high, and colors should visually represent this progression. Light-to-dark or single-hue progressions work best.</p>
<p><strong>When to use sequential palettes:</strong> - Population counts, ages, income levels - Percentages, probabilities, rates<br>
- Any continuous measure without a meaningful center point - Heatmaps, choropleths, and intensity visualizations</p>
<section id="single-hue-sequential-teal" class="level3">
<h3 class="anchored" data-anchor-id="single-hue-sequential-teal"><strong>Single-Hue Sequential (Teal)</strong></h3>
<p><strong>Best for:</strong> Most continuous data visualization needs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Different lengths for different needs</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#cpal_colors("teal_seq_4")  # 4 color steps</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#cpal_colors("teal_seq_5")  # 5 color steps  </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#cpal_colors("teal_seq_6")  # 6 color steps</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create example data for heatmap demonstration</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cpaltemplates)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a correlation matrix from mtcars dataset</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>correlation_data <span class="ot">&lt;-</span> <span class="fu">cor</span>(mtcars[, <span class="fu">c</span>(<span class="st">"mpg"</span>, <span class="st">"hp"</span>, <span class="st">"wt"</span>, <span class="st">"qsec"</span>, <span class="st">"disp"</span>)])</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert correlation matrix to long format for ggplot2</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>heatmap_data <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rownames</span>(correlation_data),</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">colnames</span>(correlation_data)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>heatmap_data<span class="sc">$</span>correlation <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(correlation_data)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Use in ggplot2 with real data</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(heatmap_data, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">fill =</span> correlation)) <span class="sc">+</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"teal_seq_5"</span>, <span class="at">discrete =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Vehicle Characteristics Correlation Matrix"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Correlation"</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cpal</span>() <span class="sc">+</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="colors-palettes_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Why teal for sequential?</strong> - <strong>Brand consistency</strong>: Uses CPAL’s signature color - <strong>Perceptual uniformity</strong>: Even visual steps represent equal data steps - <strong>Print friendly</strong>: Works well in both color and grayscale - <strong>Professional appearance</strong>: Sophisticated, not overwhelming</p>
</section>
<section id="multi-hue-sequential-yellow-teal" class="level3">
<h3 class="anchored" data-anchor-id="multi-hue-sequential-yellow-teal"><strong>Multi-Hue Sequential (Yellow-Teal)</strong></h3>
<p><strong>Best for:</strong> When you want more visual interest or need to distinguish between multiple sequential variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multi-hue options</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"yellow_teal_seq_4"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"yellow_teal_seq_5"</span>) </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"yellow_teal_seq_6"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>When to choose multi-hue over single-hue:</strong> - <strong>Multiple related measures</strong>: Comparing different rates or counts - <strong>High visual impact needed</strong>: Presentations, dashboards, key findings - <strong>Complex visualizations</strong>: Where single-hue might be too subtle - <strong>Avoiding confusion</strong>: When other elements use teal</p>
<p><strong>Color progression explanation:</strong> - <strong>Yellow (#E5CB50)</strong>: Represents low values, warm and approachable - <strong>Green-Teal transition</strong>: Middle values, natural progression<br>
- <strong>Dark Teal (#004855)</strong>: High values, professional and serious</p>
</section>
<section id="choosing-sequential-palette-length" class="level3">
<h3 class="anchored" data-anchor-id="choosing-sequential-palette-length"><strong>Choosing Sequential Palette Length</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 37%">
<col style="width: 25%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Number of Colors</strong></th>
<th><strong>Best For</strong></th>
<th><strong>Example Use Cases</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>4 colors</strong></td>
<td>Simple continuous data, clear distinctions</td>
<td>Quartiles, basic heatmaps, simple choropleths</td>
</tr>
<tr class="even">
<td><strong>5 colors</strong></td>
<td><strong>Most common choice</strong>, balanced detail</td>
<td>Quintiles, most continuous visualizations</td>
</tr>
<tr class="odd">
<td><strong>6 colors</strong></td>
<td>Complex data needing fine distinctions</td>
<td>Detailed heatmaps, precise geographic data</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="diverging-palettes-for-data-with-a-meaningful-center" class="level2">
<h2 class="anchored" data-anchor-id="diverging-palettes-for-data-with-a-meaningful-center">Diverging Palettes: For Data with a Meaningful Center</h2>
<p><strong>The concept:</strong> Some data has a natural center point where values above and below have different meanings. Diverging palettes use contrasting colors on each side of this center.</p>
<p><strong>Classic use cases:</strong> - <strong>Change from baseline</strong>: Profit/loss, above/below average, improvement/decline - <strong>Survey data</strong>: Agree/disagree, satisfaction scales, political leaning - <strong>Statistical data</strong>: Positive/negative correlations, z-scores, residuals - <strong>Geographic data</strong>: Temperature anomalies, election margins</p>
<section id="pink-teal-diverging" class="level3">
<h3 class="anchored" data-anchor-id="pink-teal-diverging"><strong>Pink-Teal Diverging</strong></h3>
<p><strong>Why this combination?</strong> Pink and teal are complementary colors that create maximum visual contrast while maintaining CPAL brand consistency.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Different granularity options</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"pink_teal_3"</span>)  <span class="co"># Simple: negative, neutral, positive</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"pink_teal_5"</span>)  <span class="co"># Moderate: adds nuance</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"pink_teal_6"</span>)  <span class="co"># Detailed: maximum distinction</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Color psychology in the diverging palette:</strong> - <strong>Pink side</strong>: Often represents “negative” changes, but the color choice is intentionally less harsh than red - <strong>Gray center</strong>: Neutral, no change, baseline values - <strong>Teal side</strong>: “Positive” changes, using CPAL’s signature optimistic color</p>
</section>
<section id="practical-applications" class="level3">
<h3 class="anchored" data-anchor-id="practical-applications"><strong>Practical Applications</strong></h3>
<p><strong>Example 1: Survey Results</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Likert scale data (Strongly Disagree to Strongly Agree)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cpaltemplates)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create realistic survey data</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducible example</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">question =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Job Satisfaction"</span>, <span class="st">"Work-Life Balance"</span>, <span class="st">"Team Collaboration"</span>, <span class="st">"Career Growth"</span>), <span class="at">each =</span> <span class="dv">100</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">response =</span> <span class="fu">sample</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"Strongly Disagree"</span>, <span class="st">"Disagree"</span>, <span class="st">"Neutral"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly Agree"</span>),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">400</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span>)  <span class="co"># Realistic distribution</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure proper factor ordering for Likert responses</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>survey_data<span class="sc">$</span>response <span class="ot">&lt;-</span> <span class="fu">factor</span>(survey_data<span class="sc">$</span>response, </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>                              <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Strongly Disagree"</span>, <span class="st">"Disagree"</span>, <span class="st">"Neutral"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly Agree"</span>))</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(survey_data, <span class="fu">aes</span>(<span class="at">x =</span> question, <span class="at">fill =</span> response)) <span class="sc">+</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"pink_teal_5"</span>) <span class="sc">+</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cpal</span>() <span class="sc">+</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Employee Survey Results"</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Responses"</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">""</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="colors-palettes_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Example 2: Performance vs.&nbsp;Target</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Performance above/below target</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cpaltemplates)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create realistic performance data for different departments</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">456</span>)  <span class="co"># For reproducible example</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>performance_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">department =</span> <span class="fu">c</span>(<span class="st">"Mathematics"</span>, <span class="st">"English"</span>, <span class="st">"Science"</span>, <span class="st">"History"</span>, <span class="st">"Art"</span>, </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Physical Education"</span>, <span class="st">"Music"</span>, <span class="st">"Computer Science"</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">variance_from_target =</span> <span class="fu">c</span>(<span class="fl">12.5</span>, <span class="sc">-</span><span class="fl">8.2</span>, <span class="fl">15.3</span>, <span class="sc">-</span><span class="fl">3.1</span>, <span class="fl">6.7</span>, <span class="sc">-</span><span class="fl">12.4</span>, <span class="fl">9.8</span>, <span class="fl">18.2</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative: could use random data that's more variable</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># performance_data$variance_from_target &lt;- runif(8, min = -20, max = 25)</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(performance_data, <span class="fu">aes</span>(<span class="at">x =</span> department, <span class="at">y =</span> variance_from_target, </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>                            <span class="at">fill =</span> variance_from_target)) <span class="sc">+</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"pink_teal_6"</span>, <span class="at">discrete =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cpal</span>() <span class="sc">+</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Department Performance vs. Target Goals"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Positive values indicate above target, negative values below target"</span>,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Department"</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Variance from Target (%)"</span>,</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Performance</span><span class="sc">\n</span><span class="st">Variance"</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="colors-palettes_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="critical-design-decisions" class="level3">
<h3 class="anchored" data-anchor-id="critical-design-decisions"><strong>Critical Design Decisions</strong></h3>
<p><strong>Center point matters:</strong> Make sure your data actually has a meaningful center. If not, use sequential palettes instead.</p>
<p>❌ <strong>Don’t use diverging for:</strong> - Age groups (no meaningful center) - Income levels (zero isn’t meaningful for most analyses) - Geographic regions (no inherent center)</p>
<p>✅ <strong>Do use diverging for:</strong> - Change scores (zero = no change) - Performance vs.&nbsp;benchmarks (benchmark = center) - Balance measures (balanced = center)</p>
</section>
</section>
<section id="advanced-usage-and-customization" class="level2">
<h2 class="anchored" data-anchor-id="advanced-usage-and-customization">Advanced Usage and Customization</h2>
<section id="exploring-available-palettes" class="level3">
<h3 class="anchored" data-anchor-id="exploring-available-palettes"><strong>Exploring Available Palettes</strong></h3>
<p>The cpaltemplates package provides three complementary functions for palette exploration:</p>
<p><strong><code>list_cpal_palettes()</code></strong> - Programmatic palette discovery - Returns palette names for use in code - Optional detailed information with descriptions and color counts - Perfect for building automated palette selection logic</p>
<p><strong><code>quick_palette()</code></strong> - Fast visual reference<br>
- Clean, simple display for quick reference - Optional color limiting for preview of large palettes - Ideal when you know the palette name and want a quick look</p>
<p><strong><code>view_cpal_palettes()</code></strong> - Comprehensive exploration - All palettes overview or specific palette deep dive - Customizable display options (hex codes, compact view, etc.) - Best for choosing between multiple palettes or detailed exploration</p>
</section>
<section id="getting-specific-colors" class="level3">
<h3 class="anchored" data-anchor-id="getting-specific-colors"><strong>Getting Specific Colors</strong></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get individual colors by name</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="fu">c</span>(<span class="st">"teal"</span>, <span class="st">"pink"</span>, <span class="st">"orange"</span>))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get first N colors from any palette</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main"</span>, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Reverse any palette</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main"</span>, <span class="at">reverse =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="integration-with-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="integration-with-ggplot2"><strong>Integration with ggplot2</strong></h3>
<p><strong>For discrete data:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automatic color selection based on your data</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_cpal</span>(<span class="at">palette =</span> <span class="st">"main"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"main"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>For continuous data:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set discrete = FALSE for continuous scales</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_cpal</span>(<span class="at">palette =</span> <span class="st">"teal_seq_5"</span>, <span class="at">discrete =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"pink_teal_5"</span>, <span class="at">discrete =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Advanced ggplot2 options:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reverse palette direction</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"main"</span>, <span class="at">reverse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pass additional arguments to underlying ggplot2 scales</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_cpal</span>(<span class="at">palette =</span> <span class="st">"main"</span>, <span class="at">name =</span> <span class="st">"Categories"</span>, <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exploring-and-choosing-palettes" class="level3">
<h3 class="anchored" data-anchor-id="exploring-and-choosing-palettes"><strong>Exploring and Choosing Palettes</strong></h3>
<p><strong>Visual exploration:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># See all palettes at once</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">view_cpal_palettes</span>()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Interactive exploration of individual palettes</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">quick_palette</span>()</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Display specific palette with hex codes</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">quick_palette</span>(<span class="st">"main"</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="fu">quick_palette</span>(<span class="st">"teal_seq_5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>What each function shows:</strong> - <strong><code>view_cpal_palettes()</code></strong>: Grid layout showing every palette, perfect for comparison - <strong><code>quick_palette()</code></strong>: Interactive tool with color codes and accessibility information - <strong><code>view_cpal_palettes()</code></strong>: Clean display with hex codes, ideal for documentation</p>
</section>
</section>
<section id="best-practices-and-guidelines" class="level2">
<h2 class="anchored" data-anchor-id="best-practices-and-guidelines">Best Practices and Guidelines</h2>
<section id="color-selection-decision-tree" class="level3">
<h3 class="anchored" data-anchor-id="color-selection-decision-tree"><strong>Color Selection Decision Tree</strong></h3>
<p><strong>Step 1: What type of data do you have?</strong></p>
<div class="cell" data-layout-align="default">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>graph TD</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    A[What type of data?] --&gt; B[Categorical&lt;br/&gt;Groups, categories, classifications]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    A --&gt; C[Sequential&lt;br/&gt;Continuous, low to high]</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    A --&gt; D[Diverging&lt;br/&gt;Has meaningful center point]</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    B --&gt; E[How many categories?]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    E --&gt; F[2-3: main_3]</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    E --&gt; G[4: main_4]  </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    E --&gt; H[5+: main]</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    C --&gt; I[Visual impact needed?]</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    I --&gt; J[Standard: teal_seq_5]</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    I --&gt; K[High impact: yellow_teal_seq_5]</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    D --&gt; L[Level of detail?]</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    L --&gt; M[Simple: pink_teal_3]</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    L --&gt; N[Detailed: pink_teal_5 or pink_teal_6]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-palette-decision" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-palette-decision-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>

</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-palette-decision-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: CPAL Color Palette Decision Tree
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="accessibility-considerations" class="level3">
<h3 class="anchored" data-anchor-id="accessibility-considerations"><strong>Accessibility Considerations</strong></h3>
<p><strong>All CPAL palettes are designed to be accessible, but here are best practices:</strong></p>
<ol type="1">
<li><strong>Test your visualizations</strong> with colorblind simulation tools</li>
<li><strong>Don’t rely only on color</strong> to convey information - use shapes, patterns, or labels too<br>
</li>
<li><strong>Provide legends</strong> and clear labeling for all color-coded elements</li>
<li><strong>Consider your audience</strong> - some contexts may need higher contrast</li>
</ol>
</section>
<section id="common-use-cases-and-recommendations" class="level3">
<h3 class="anchored" data-anchor-id="common-use-cases-and-recommendations"><strong>Common Use Cases and Recommendations</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 38%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Visualization Type</strong></th>
<th><strong>Recommended Palette</strong></th>
<th><strong>Why</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Bar/column charts</strong></td>
<td><code>"main"</code> for categories, <code>"teal_seq_5"</code> for values</td>
<td>Clear categorical distinction or value progression</td>
</tr>
<tr class="even">
<td><strong>Line charts</strong></td>
<td><code>"main"</code> for multiple lines</td>
<td>Distinct line identification</td>
</tr>
<tr class="odd">
<td><strong>Scatter plots</strong></td>
<td><code>"main"</code> for groups, <code>"teal_seq_5"</code> for density</td>
<td>Group identification or density visualization</td>
</tr>
<tr class="even">
<td><strong>Heatmaps</strong></td>
<td><code>"teal_seq_5"</code> or <code>"yellow_teal_seq_5"</code></td>
<td>Clear intensity progression</td>
</tr>
<tr class="odd">
<td><strong>Geographic maps</strong></td>
<td><code>"teal_seq_5"</code> for quantities, <code>"pink_teal_5"</code> for comparisons</td>
<td>Geographic data best practices</td>
</tr>
<tr class="even">
<td><strong>Dashboards</strong></td>
<td>Mix of <code>"main"</code> and <code>"teal_seq_5"</code></td>
<td>Consistent brand presence</td>
</tr>
</tbody>
</table>
</section>
<section id="performance-and-technical-considerations" class="level3">
<h3 class="anchored" data-anchor-id="performance-and-technical-considerations"><strong>Performance and Technical Considerations</strong></h3>
<p><strong>Color rendering:</strong> All CPAL colors are specified in hex format for consistency across platforms and outputs.</p>
<p><strong>File size:</strong> Color complexity doesn’t significantly impact file sizes, so choose based on visual needs rather than technical constraints.</p>
<p><strong>Print considerations:</strong> All palettes are tested for print reproduction, but sequential palettes generally print more reliably than complex categorical ones.</p>
</section>
</section>
<section id="troubleshooting-common-issues" class="level2">
<h2 class="anchored" data-anchor-id="troubleshooting-common-issues">Troubleshooting Common Issues</h2>
<section id="colors-not-appearing" class="level3">
<h3 class="anchored" data-anchor-id="colors-not-appearing"><strong>Colors Not Appearing</strong></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if colors are loading properly</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main"</span>)  <span class="co"># Should return hex codes</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># If empty, try refreshing</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cpaltemplates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="colors-look-different-than-expected" class="level3">
<h3 class="anchored" data-anchor-id="colors-look-different-than-expected"><strong>Colors Look Different Than Expected</strong></h3>
<p><strong>Possible causes:</strong> - <strong>Display calibration</strong>: Colors appear different on different monitors - <strong>RStudio viewer</strong>: Colors may render differently in RStudio vs.&nbsp;exported files - <strong>File format</strong>: PNG vs.&nbsp;PDF may show slight color differences</p>
<p><strong>Solutions:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Always preview exported files</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">save_cpal_plot</span>(your_plot, <span class="st">"test.png"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use consistent export settings</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">save_cpal_plot</span>(your_plot, <span class="st">"final.png"</span>, <span class="at">dpi =</span> <span class="dv">300</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="palette-too-longshort-for-data" class="level3">
<h3 class="anchored" data-anchor-id="palette-too-longshort-for-data"><strong>Palette Too Long/Short for Data</strong></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automatically adjust to your data length</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"main"</span>, <span class="at">n =</span> <span class="dv">7</span>)  <span class="co"># Gets 7 colors even if palette has 5</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or choose appropriate palette length</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cpal_colors</span>(<span class="st">"teal_seq_6"</span>)   <span class="co"># For 6-level data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="examples-and-implementation" class="level2">
<h2 class="anchored" data-anchor-id="examples-and-implementation">Examples and Implementation</h2>
<section id="complete-workflow-example" class="level3">
<h3 class="anchored" data-anchor-id="complete-workflow-example"><strong>Complete Workflow Example</strong></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cpaltemplates)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Explore available colors</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">view_cpal_palettes</span>()</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Choose appropriate palette for your data type</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>),</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">40</span>, <span class="dv">35</span>, <span class="dv">20</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Create visualization with CPAL colors</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(my_data, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_cpal</span>(<span class="at">palette =</span> <span class="st">"main_4"</span>) <span class="sc">+</span>  <span class="co"># 4 categories = main_4</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cpal</span>() <span class="sc">+</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Sample Categorical Data"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Using CPAL's main_4 categorical palette"</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Save with CPAL standards</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="fu">save_cpal_plot</span>(p, <span class="st">"my_visualization.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><em>The CPAL color system provides the foundation for all effective data visualization. Choose palettes based on your data type, consider your audience’s needs, and always prioritize accessibility and clarity over visual complexity.</em></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>