---
title: "Function Reference"
subtitle: "Complete index of all exported functions"
---

## Quick Navigation

- [Color System](#color-system) (22 functions)
- [Theme System](#theme-system) (11 functions)
- [Table Functions](#table-functions) (3 functions)
- [Highcharter Functions](#highcharter-functions) (18 functions)
- [Map Functions](#map-functions) (2 functions)
- [Project Scaffolding](#project-scaffolding) (9 functions)
- [Brand & Asset Management](#brand-asset-management) (4 functions)
- [Utility Functions](#utility-functions) (7 functions)
- [Shiny/Dashboard Functions](#shinydashboard-functions) (4 functions)

---

## Color System {#color-system}

### Core Color Functions

| Function | Description |
|----------|-------------|
| `cpal_colors()` | Main entry point for accessing CPAL colors and palettes |
| `cpal_color()` | Get a single color by name |
| `cpal_colors_primary()` | Returns 5 core brand colors |
| `cpal_colors_extended()` | Returns all 17+ colors including shades |
| `cpal_get_color()` | Get single color by exact name |
| `cpal_get_primary_color()` | Returns primary brand color (teal) |
| `cpal_palette()` | Internal palette wrapper for scale functions |

### Palette Access

| Function | Description |
|----------|-------------|
| `cpal_palettes()` | Unified accessor for all palettes |
| `cpal_palettes_sequential()` | Returns 6 sequential palettes |
| `cpal_palettes_diverging()` | Returns 3 diverging palettes |
| `cpal_palettes_categorical()` | Returns 7 categorical palettes |
| `list_cpal_palettes()` | List all available palette names |
| `view_cpal_palettes()` | Visual display of palettes |
| `quick_palette()` | Quick console preview |

### Color Validation

| Function | Description |
|----------|-------------|
| `validate_color_contrast()` | Check WCAG contrast requirements |
| `validate_brand_colors()` | Check all colors for accessibility |

### Color Interpolation

| Function | Description |
|----------|-------------|
| `cpal_color_ramp()` | Generate gradient between two colors |
| `cpal_color_gradient()` | Create gradient through multiple colors |

### ggplot2 Scales

| Function | Description |
|----------|-------------|
| `scale_color_cpal()` | Discrete/continuous color scale |
| `scale_fill_cpal()` | Discrete/continuous fill scale |
| `scale_color_cpal_c()` | Continuous color scale |
| `scale_fill_cpal_c()` | Continuous fill scale |
| `scale_color_cpal_d()` | Discrete color scale |
| `scale_fill_cpal_d()` | Discrete fill scale |
| `scale_colour_cpal()` | British spelling alias |

---

## Theme System {#theme-system}

### ggplot2 Themes

| Function | Description |
|----------|-------------|
| `theme_cpal()` | Main CPAL theme with full customization |
| `theme_cpal_minimal()` | Minimal variant with reduced elements |
| `theme_cpal_classic()` | Traditional styling with axis lines |
| `theme_cpal_dark()` | Dark background variant |
| `theme_cpal_print()` | Print-optimized theme |
| `theme_cpal_map()` | Geographic visualization theme |

### Theme Switching (Shiny)

| Function | Description |
|----------|-------------|
| `theme_cpal_switch()` | Returns light or dark theme based on mode |
| `make_theme_reactive()` | Creates reactive theme for Shiny apps |

### Theme Management

| Function | Description |
|----------|-------------|
| `set_theme_cpal()` | Set CPAL theme as session default |
| `preview_cpal_themes()` | Visual comparison of all themes |

---

## Table Functions {#table-functions}

| Function | Description |
|----------|-------------|
| `cpal_table()` | Quick CPAL-styled gt table |
| `cpal_table_gt()` | Publication-quality static table |
| `cpal_table_reactable()` | Interactive searchable table |

---

## Highcharter Functions {#highcharter-functions}

### Theme Functions

| Function | Description |
|----------|-------------|
| `hc_theme_cpal_light()` | Highcharter theme for light mode |
| `hc_theme_cpal_dark()` | Highcharter theme for dark mode |
| `hc_theme_cpal_switch()` | Returns appropriate theme based on mode |
| `hc_cpal_theme()` | Apply CPAL theme to a chart |

### Color Functions

| Function | Description |
|----------|-------------|
| `hc_colors_cpal()` | Apply CPAL color palette to chart series |
| `hc_colorAxis_cpal()` | Apply sequential/diverging gradient to color axis |

### Formatting Helpers

| Function | Description |
|----------|-------------|
| `hc_cpal_number_format()` | Set global Highcharts number formatting |
| `hc_tooltip_cpal()` | Create formatted tooltips with prefix/suffix |
| `hc_yaxis_cpal()` | Format y-axis with scaling and labels |
| `hc_linetype_cpal()` | Toggle between line and spline styles |

### Chart Type Helpers

| Function | Description |
|----------|-------------|
| `hc_histogram_cpal()` | Create CPAL-styled histogram with auto-binning |
| `hc_lollipop_cpal()` | Create lollipop chart (stem + dot) |
| `hc_dumbbell_cpal()` | Create dumbbell chart (compare two values) |
| `hc_boxplot_style_cpal()` | Apply CPAL styling to boxplot series |
| `hc_waterfall_colors_cpal()` | Auto-color waterfall chart data |
| `hc_treemap_data_cpal()` | Build hierarchical treemap data with CPAL colors |
| `hc_treemap_style_cpal()` | Apply CPAL level styling to treemaps |

### Logo & Branding

| Function | Description |
|----------|-------------|
| `hc_add_cpal_logo()` | Add CPAL logo to Highcharts widget |

---

## Map Functions {#map-functions}

| Function | Description |
|----------|-------------|
| `cpal_mapgl()` | Create mapgl map with Dallas defaults |
| `cpal_mapgl_layer()` | Add CPAL-styled layer to mapgl |

---

## Project Scaffolding {#project-scaffolding}

### Main Function

| Function | Description |
|----------|-------------|
| `start_project()` | Create new project with CPAL structure |

### Component Adders

| Function | Description |
|----------|-------------|
| `use_quarto_report()` | Add Quarto report to existing project |
| `use_quarto_slides()` | Add Quarto slides template |
| `use_quarto_web()` | Add Quarto website structure |
| `use_shiny_dashboard()` | Add full-featured dashboard |
| `use_shiny_app()` | Add simple Shiny app |
| `use_shiny_theme()` | Add CPAL CSS theme files |
| `use_targets()` | Add targets pipeline |

### Asset Management

| Function | Description |
|----------|-------------|
| `update_cpal_assets()` | Update CSS and images to latest versions |

---

## Brand & Asset Management {#brand-asset-management}

| Function | Description |
|----------|-------------|
| `use_cpal_brand()` | Copy _brand.yml to project |
| `validate_cpal_brand()` | Validate brand configuration |
| `get_cpal_asset()` | Get path to package asset |
| `update_cpal_assets()` | Update project assets |

---

## Utility Functions {#utility-functions}

### Font Management

| Function | Description |
|----------|-------------|
| `cpal_font_family()` | Get best available CPAL font |
| `cpal_font_family_fallback()` | Get system fallback font |
| `setup_cpal_google_fonts()` | Download and register fonts |

### Plot Utilities

| Function | Description |
|----------|-------------|
| `save_cpal_plot()` | Save with standard dimensions |
| `add_cpal_logo()` | Add CPAL logo to ggplot2 plots |
| `check_plot_accessibility()` | Check accessibility issues |

---

## Shiny/Dashboard Functions {#shinydashboard-functions}

| Function | Description |
|----------|-------------|
| `cpal_dashboard_theme()` | Bootstrap 5 theme from _brand.yml |
| `cpal_shiny()` | Legacy Shiny theme (deprecated) |
| `cpal_add_scss_enhancements()` | Add enhanced SCSS styling |
| `cpal_export_scss()` | Export SCSS for custom use |

---

## Function Signatures

### Most Used Functions

```r
# Colors
cpal_colors(palette = NULL, n = NULL, reverse = FALSE)
cpal_color(name)
cpal_colors_primary()
scale_color_cpal(palette = "main", discrete = TRUE, reverse = FALSE, ...)
scale_fill_cpal(palette = "main", discrete = TRUE, reverse = FALSE, ...)

# Themes
theme_cpal(base_size = 16, base_family = NULL, style = "default",
           grid = "horizontal", axis_line = "x", axis_title = TRUE,
           legend_position = "bottom")
set_theme_cpal(style = "default", base_size = 16, ...)

# Theme Switching (Shiny)
theme_cpal_switch(mode = "light", ...)
make_theme_reactive(input, toggle_id = "dark_mode_toggle", ...)

# Highcharter
hc_cpal_theme(hc, mode = "light")
hc_colors_cpal(hc, palette = "main", n = NULL)
hc_colorAxis_cpal(hc, type = "sequential", min = NULL, max = NULL)
hc_tooltip_cpal(hc, decimals = 0, prefix = "", suffix = "")
hc_yaxis_cpal(hc, title = NULL, prefix = "", suffix = "", divide_by = 1)
hc_histogram_cpal(data, breaks = 30, title = NULL, ...)
hc_lollipop_cpal(categories, values, name = "Value", title = NULL, ...)
hc_dumbbell_cpal(categories, values_start, values_end, ...)
hc_add_cpal_logo(hc, position = "bottom-right", mode = "light")
hc_theme_cpal_switch(mode = "light")

# Tables
cpal_table_gt(data, title = NULL, subtitle = NULL, source = NULL, ...)
cpal_table_reactable(data, title = NULL, searchable = TRUE,
                     pagination = TRUE, page_size = 10, ...)

# Maps
cpal_mapgl(center = c(-96.797, 32.779), zoom = 10, style = "light", ...)
cpal_mapgl_layer(map, data, type = "fill", source_layer = NULL, ...)

# Projects
start_project(name, path = ".", project_type = "analysis",
              interactive = TRUE, features = NULL, open = TRUE)

# Utilities
setup_cpal_google_fonts(force_refresh = FALSE, verbose = TRUE)
save_cpal_plot(plot, filename, size = "default", dpi = 300, ...)
add_cpal_logo(plot, position = "top-right", size = 0.09)
```

---

## Deprecated Functions

| Function | Replacement |
|----------|-------------|
| `cpal_shiny()` | `cpal_dashboard_theme()` |
| `theme_cpal_auto()` | `theme_cpal_switch()` |

---

## See Also

- [Getting Started](getting-started.qmd) - Installation and setup
- [ggplot2 Chart Gallery](gallery-ggplot2.qmd) - Static chart examples
- [Highcharter Chart Gallery](gallery-highcharter.qmd) - Interactive chart examples
- [Colors & Palettes](colors-palettes.qmd) - Color system details
- [Themes & Styling](themes-styling.qmd) - Theme customization
- [Troubleshooting](troubleshooting.qmd) - Common issues
