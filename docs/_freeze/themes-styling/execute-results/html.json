{
  "hash": "b26df76e14d764907163758a6cdbe7c6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Themes & Styling\"\nsubtitle: \"Consistent ggplot2 themes for CPAL visualizations\"\n---\n\n\n\n\n## Overview\n\nThe cpaltemplates theme system provides 8 functions for creating consistently branded ggplot2 visualizations. Each theme is designed for specific use cases while maintaining CPAL's visual identity.\n\n---\n\n## Quick Start\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#007A8C\", size = 3) +\n  labs(\n    title = \"Vehicle Fuel Efficiency\",\n    x = \"Weight (1000 lbs)\",\n    y = \"Miles per Gallon\"\n  ) +\n  theme_cpal()\n```\n\n::: {.cell-output-display}\n![Basic plot with theme_cpal()](themes-styling_files/figure-html/quick-start-1.png){width=80%}\n:::\n:::\n\n\n---\n\n## Theme Variants\n\n### `theme_cpal()` - Default Theme\n\nThe primary CPAL theme with full customization options.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(\n    title = \"Fuel Efficiency by Weight\",\n    subtitle = \"Data from mtcars dataset\",\n    x = \"Weight (1000 lbs)\",\n    y = \"Miles per Gallon\",\n    color = \"Cylinders\"\n  ) +\n  theme_cpal()\n```\n\n::: {.cell-output-display}\n![Default theme_cpal()](themes-styling_files/figure-html/theme-cpal-default-1.png){width=80%}\n:::\n:::\n\n\n**Customization options:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(title = \"With Both Grid Lines\") +\n  theme_cpal(grid = \"both\", legend_position = \"right\")\n```\n\n::: {.cell-output-display}\n![theme_cpal() with grid on both axes](themes-styling_files/figure-html/theme-cpal-options-1.png){width=80%}\n:::\n:::\n\n\n---\n\n### `theme_cpal_minimal()` - Clean Design\n\nA minimal variant with reduced visual elements:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(\n    title = \"Minimal Theme\",\n    subtitle = \"Clean, simple design\"\n  ) +\n  theme_cpal_minimal()\n```\n\n::: {.cell-output-display}\n![theme_cpal_minimal() for clean designs](themes-styling_files/figure-html/theme-minimal-1.png){width=80%}\n:::\n:::\n\n\n---\n\n### `theme_cpal_classic()` - Traditional Style\n\nTraditional styling with axis lines on both x and y:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#007A8C\", size = 3) +\n  geom_smooth(method = \"lm\", color = \"#004855\", fill = \"#D8EFF4\") +\n  labs(\n    title = \"Classic Theme\",\n    subtitle = \"Traditional academic style\"\n  ) +\n  theme_cpal_classic()\n```\n\n::: {.cell-output-display}\n![theme_cpal_classic() with axis lines](themes-styling_files/figure-html/theme-classic-1.png){width=80%}\n:::\n:::\n\n\n---\n\n### `theme_cpal_dark()` - Dark Background\n\nDark background variant for presentations and dark-mode applications:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(\n    title = \"Dark Theme\",\n    subtitle = \"Ideal for presentations\",\n    color = \"Cylinders\"\n  ) +\n  theme_cpal_dark()\n```\n\n::: {.cell-output-display}\n![theme_cpal_dark() for presentations](themes-styling_files/figure-html/theme-dark-1.png){width=80%}\n:::\n:::\n\n\n---\n\n### `theme_cpal_print()` - Print Optimized\n\nOptimized for printing with high contrast:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#004855\", size = 2) +\n  labs(\n    title = \"Print Theme\",\n    subtitle = \"Optimized for printing\"\n  ) +\n  theme_cpal_print()\n```\n\n::: {.cell-output-display}\n![theme_cpal_print() for publications](themes-styling_files/figure-html/theme-print-1.png){width=80%}\n:::\n:::\n\n\n---\n\n### `theme_cpal_map()` - Geographic Visualizations\n\nSpecialized theme for maps (no axes, minimal chrome):\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get Texas counties from tigris\nif (requireNamespace(\"tigris\", quietly = TRUE) && requireNamespace(\"sf\", quietly = TRUE)) {\n  options(tigris_use_cache = TRUE)\n  tx_counties <- tigris::counties(state = \"TX\", cb = TRUE, progress_bar = FALSE)\n\n  # Add sample data for coloring\n  set.seed(42)\n  tx_counties$value <- runif(nrow(tx_counties))\n\n  ggplot(tx_counties) +\n    geom_sf(aes(fill = value), color = \"white\", linewidth = 0.1) +\n    scale_fill_cpal_c(\"teal_seq_5\") +\n    labs(\n      title = \"Texas Counties\",\n      subtitle = \"Example map visualization with theme_cpal_map()\",\n      fill = \"Value\"\n    ) +\n    theme_cpal_map()\n} else {\n  # Fallback if tigris not available\n  ggplot(data.frame(x = rnorm(50), y = rnorm(50), value = runif(50))) +\n    geom_point(aes(x = x, y = y, color = value), size = 4) +\n    scale_color_cpal_c(\"teal_seq_5\") +\n    labs(title = \"Map Theme Example\", subtitle = \"(Install tigris for real map data)\") +\n    theme_cpal_map()\n}\n```\n\n::: {.cell-output-display}\n![theme_cpal_map() with Texas county boundaries](themes-styling_files/figure-html/theme-map-example-1.png){width=80%}\n:::\n:::\n\n\n---\n\n## Theme Comparison\n\n### Side-by-Side Preview\n\n\n::: {.cell}\n\n```{.r .cell-code}\npreview_cpal_themes()\n```\n\n::: {.cell-output-display}\n![Comparison of all CPAL themes](themes-styling_files/figure-html/theme-preview-1.png){width=80%}\n:::\n:::\n\n\n---\n\n## Theme Parameters\n\n### `theme_cpal()` Arguments\n\n| Argument | Options | Default |\n|----------|---------|---------|\n| `base_size` | Numeric (font size in pts) | 16 |\n| `base_family` | Font family name | Auto-detected |\n| `style` | \"default\", \"minimal\", \"classic\", \"dark\" | \"default\" |\n| `grid` | \"horizontal\", \"vertical\", \"both\", \"none\" | \"horizontal\" |\n| `axis_line` | \"x\", \"y\", \"both\", \"none\" | \"x\" |\n| `axis_title` | TRUE/FALSE | TRUE |\n| `legend_position` | \"bottom\", \"right\", \"top\", \"left\", \"none\" | \"bottom\" |\n\n### Examples with Different Parameters\n\n\n::: {.cell layout-ncol=\"2\"}\n\n```{.r .cell-code}\n# No grid lines\np1 <- ggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#007A8C\") +\n  labs(title = \"No Grid\") +\n  theme_cpal(grid = \"none\")\n\n# Vertical grid only\np2 <- ggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#007A8C\") +\n  labs(title = \"Vertical Grid\") +\n  theme_cpal(grid = \"vertical\")\n\np1\n```\n\n::: {.cell-output-display}\n![theme_cpal() with custom parameters](themes-styling_files/figure-html/theme-params-1.png){width=80%}\n:::\n\n```{.r .cell-code}\np2\n```\n\n::: {.cell-output-display}\n![theme_cpal() with custom parameters](themes-styling_files/figure-html/theme-params-2.png){width=80%}\n:::\n:::\n\n\n---\n\n## Session-Wide Theme Setting\n\n### `set_theme_cpal()`\n\nSet a CPAL theme as the default for your entire R session:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set dark theme for entire session\nset_theme_cpal(\"dark\")\n\n# All subsequent plots use dark theme automatically\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point()  # No theme_cpal() needed!\n\n# Reset to ggplot2 default\ntheme_set(theme_gray())\n```\n:::\n\n\n---\n\n## Theme Selection Guide\n\n| Context | Recommended Theme |\n|---------|-------------------|\n| General use | `theme_cpal()` |\n| Simple, clean charts | `theme_cpal_minimal()` |\n| Academic papers | `theme_cpal_classic()` |\n| Slide presentations | `theme_cpal_dark()` |\n| Print publications | `theme_cpal_print()` |\n| Maps | `theme_cpal_map()` |\n\n---\n\n## Customizing Theme Elements\n\nYou can combine CPAL themes with additional theme modifications:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(\n    title = \"Centered Title Example\",\n    subtitle = \"With custom styling\"\n  ) +\n  theme_cpal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, color = \"#C3257B\"),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![Customized theme with centered title](themes-styling_files/figure-html/theme-customization-1.png){width=80%}\n:::\n:::\n\n\n---\n\n## Complete Examples\n\n### Report Chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3, alpha = 0.8) +\n  geom_smooth(method = \"lm\", se = FALSE, linewidth = 1) +\n  scale_color_cpal(\"main_3\") +\n  labs(\n    title = \"Vehicle Fuel Efficiency Analysis\",\n    subtitle = \"Weight vs. MPG with trend lines by cylinder count\",\n    x = \"Weight (1000 lbs)\",\n    y = \"Miles per Gallon\",\n    color = \"Cylinders\",\n    caption = \"Source: Motor Trend, 1974\"\n  ) +\n  theme_cpal()\n```\n\n::: {.cell-output-display}\n![Complete report-ready visualization](themes-styling_files/figure-html/report-chart-1.png){width=80%}\n:::\n:::\n\n\n### Presentation Slide\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = factor(cyl), y = mpg, fill = factor(cyl))) +\n  geom_boxplot(alpha = 0.8) +\n  scale_fill_cpal(\"main_3\") +\n  labs(\n    title = \"Fuel Efficiency Distribution\",\n    x = \"Cylinders\",\n    y = \"Miles per Gallon\"\n  ) +\n  theme_cpal_dark(base_size = 18) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![Presentation-ready visualization](themes-styling_files/figure-html/presentation-chart-1.png){width=80%}\n:::\n:::\n\n\n---\n\n## Troubleshooting\n\n### Fonts Not Rendering Correctly\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Reset font setup\nsetup_cpal_google_fonts(force_refresh = TRUE)\n\n# Check font availability\ncpal_font_family(setup = TRUE)\n```\n:::\n\n\n### Theme Elements Not Applying\n\nEnsure `theme_cpal()` is called after other layers but before custom theme modifications:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(...) +\n  geom_point() +\n  scale_color_cpal() +\n  theme_cpal() +           # Base theme\n  theme(custom = ...)      # Specific overrides after\n```\n:::\n\n\n---\n\n## Next Steps\n\n- [Colors & Palettes](colors-palettes.qmd) - Learn about CPAL color scales\n- [Plots & Output](plots-visualizations.qmd) - Saving and exporting plots\n- [Shiny Dashboards](shiny-dashboards.qmd) - Theming Shiny applications\n",
    "supporting": [
      "themes-styling_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}