{
  "hash": "10dfff362bd6e089b6c941040b22fcf3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Themes & Styling\"\nsubtitle: \"CPAL theming for ggplot2 and Highcharter visualizations\"\n---\n\n\n\n\ncpaltemplates provides consistent theming for both static (ggplot2) and interactive (Highcharter) visualizations. This page covers theme selection by use case, customization options, and utility functions for saving and branding your plots.\n\nFor chart-specific examples, see the [ggplot2 Gallery](gallery-ggplot2.qmd) and [Highcharter Gallery](gallery-highcharter.qmd).\n\n---\n\n## Quick Start\n\n### ggplot2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(title = \"Fuel Efficiency by Weight\", color = \"Cylinders\") +\n  theme_cpal()\n```\n\n::: {.cell-output-display}\n![Basic ggplot2 with theme_cpal()](themes-styling_files/figure-html/quick-start-ggplot-1.png){width=80%}\n:::\n:::\n\n\n### Highcharter\n\n```r\nlibrary(highcharter)\n\nhchart(mtcars, \"scatter\", hcaes(x = wt, y = mpg, group = factor(cyl))) |>\n  hc_cpal_theme() |>\n  hc_colors_cpal(\"main_3\") |>\n  hc_title(text = \"Fuel Efficiency by Weight\")\n```\n\n---\n\n## Theme Selection by Use Case\n\n| Use Case | ggplot2 Theme | Highcharter Theme |\n|----------|---------------|-------------------|\n| General purpose | `theme_cpal()` | `hc_cpal_theme()` |\n| Dark mode / presentations | `theme_cpal_dark()` | `hc_cpal_theme(\"dark\")` |\n| Print publications | `theme_cpal_print()` | - |\n| Academic papers | `theme_cpal_classic()` | - |\n| Minimal / clean | `theme_cpal_minimal()` | - |\n| Maps | `theme_cpal_map()` | - |\n| Shiny (reactive) | `theme_cpal_switch()` | `hc_theme_cpal_switch()` |\n\n---\n\n## ggplot2 Themes\n\n### `theme_cpal()` - Default Theme\n\nThe primary CPAL theme with full customization options.\n\n```r\ntheme_cpal(\n  base_size = 16,\n  base_family = NULL,\n  style = \"default\",\n\n  grid = \"horizontal\",\n  axis_line = \"x\",\n  axis_title = TRUE,\n  legend_position = \"bottom\"\n)\n```\n\n#### Parameters\n\n| Argument | Options | Default |\n|----------|---------|---------|\n| `base_size` | Numeric (font size in pts) | 16 |\n| `grid` | \"horizontal\", \"vertical\", \"both\", \"none\" | \"horizontal\" |\n| `axis_line` | \"x\", \"y\", \"both\", \"none\" | \"x\" |\n| `legend_position` | \"bottom\", \"right\", \"top\", \"left\", \"none\" | \"bottom\" |\n\n---\n\n### Theme Variants\n\n::: {.callout-note}\n`theme_cpal_minimal()`, `theme_cpal_classic()`, `theme_cpal_print()`, and `theme_cpal_map()` are currently under review and may be modified.\n:::\n\n| Theme | Description | Best For |\n|-------|-------------|----------|\n| `theme_cpal()` | Full-featured default | General use |\n| `theme_cpal_dark()` | Dark background | Presentations, dark mode |\n| `theme_cpal_minimal()` | Reduced visual elements | Clean, simple charts |\n| `theme_cpal_classic()` | Axis lines on both axes | Academic style |\n| `theme_cpal_print()` | High contrast | Print publications |\n| `theme_cpal_map()` | No axes, minimal chrome | Geographic visualizations |\n\n---\n\n### `theme_cpal_dark()` - Dark Mode\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_cpal(\"main_3\") +\n  labs(title = \"Dark Theme Example\", color = \"Cylinders\") +\n  theme_cpal_dark()\n```\n\n::: {.cell-output-display}\n![Dark theme for presentations](themes-styling_files/figure-html/theme-dark-1.png){width=80%}\n:::\n:::\n\n\n---\n\n### Session-Wide Theme Setting\n\nSet a CPAL theme as the default for your entire R session:\n\n```r\n# Set dark theme for entire session\nset_theme_cpal(\"dark\")\n\n# All subsequent plots use dark theme automatically\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point()  # No theme_cpal() needed\n\n# Reset to ggplot2 default\ntheme_set(theme_gray())\n```\n\n---\n\n### Theme Comparison\n\n\n::: {.cell}\n\n```{.r .cell-code}\npreview_cpal_themes()\n```\n\n::: {.cell-output-display}\n![Comparison of all ggplot2 themes](themes-styling_files/figure-html/theme-preview-1.png){width=80%}\n:::\n:::\n\n\n---\n\n## Highcharter Themes\n\n### `hc_cpal_theme()` - Apply Theme to Chart\n\nApply CPAL styling to any Highcharter chart.\n\n```r\nhc_cpal_theme(hc, mode = \"light\")\n```\n\n| Argument | Description |\n|----------|-------------|\n| `hc` | A highchart object |\n| `mode` | \"light\" or \"dark\" |\n\n#### Example\n\n```r\nhchart(mtcars, \"scatter\", hcaes(x = wt, y = mpg)) |>\n  hc_cpal_theme() |>\n  hc_colors_cpal(\"main\") |>\n  hc_title(text = \"Scatter Plot\") |>\n  hc_add_cpal_logo()\n```\n\n---\n\n### Theme Functions\n\n| Function | Description |\n|----------|-------------|\n| `hc_theme_cpal_light()` | Returns light mode theme object |\n| `hc_theme_cpal_dark()` | Returns dark mode theme object |\n| `hc_theme_cpal_switch(mode)` | Returns theme based on mode parameter |\n| `hc_cpal_theme(hc, mode)` | Applies theme to a chart |\n\n---\n\n### `hc_colors_cpal()` - Apply Color Palette\n\n```r\nhc_colors_cpal(hc, palette = \"main\", n = NULL)\n```\n\n| Argument | Description |\n|----------|-------------|\n| `hc` | A highchart object |\n| `palette` | Palette name (e.g., \"main\", \"main_3\", \"diverging\") |\n| `n` | Number of colors (auto-detected if NULL) |\n\n---\n\n### `hc_add_cpal_logo()` - Add Branding\n\n```r\nhc_add_cpal_logo(hc, position = \"bottom-right\", mode = \"light\")\n```\n\n---\n\n## Dark/Light Mode Switching (Shiny)\n\nFor Shiny applications that support dark/light mode toggles.\n\n### ggplot2: `theme_cpal_switch()`\n\n```r\ntheme_cpal_switch(mode = \"light\", ...)\n```\n\n```r\noutput$plot <- renderPlot({\n  ggplot(data, aes(x, y)) +\n    geom_point() +\n    theme_cpal_switch(input$dark_mode)\n})\n```\n\n### ggplot2: `make_theme_reactive()`\n\nCreate a reusable reactive theme:\n\n```r\nserver <- function(input, output, session) {\n  current_theme <- make_theme_reactive(input, toggle_id = \"dark_mode\")\n\n  output$plot1 <- renderPlot({\n    ggplot(data1, aes(x, y)) +\n      geom_point() +\n      current_theme()\n  })\n}\n```\n\n### Highcharter: `hc_theme_cpal_switch()`\n\n```r\noutput$chart <- renderHighchart({\n  hchart(data, \"column\", hcaes(x = x, y = y)) |>\n    hc_add_theme(hc_theme_cpal_switch(input$dark_mode)) |>\n    hc_colors_cpal(\"main\")\n})\n```\n\n---\n\n## Saving & Exporting Plots\n\n### `save_cpal_plot()`\n\nSave plots with standardized CPAL dimensions.\n\n```r\nsave_cpal_plot(\n  plot,\n  filename,\n  size = \"default\",\n  dpi = 300,\n  bg = \"white\",\n  ...\n)\n```\n\n#### Size Presets\n\n| Preset | Dimensions | Use Case |\n|--------|------------|----------|\n| `\"default\"` | 8 × 5 | General purpose |\n| `\"slide\"` | 10 × 5.625 | Presentations (16:9) |\n| `\"half\"` | 4 × 3 | Half-page figures |\n| `\"square\"` | 5 × 5 | Social media |\n| `\"wide\"` | 12 × 4 | Dashboards |\n| `\"tall\"` | 5 × 8 | Vertical layouts |\n\n#### Examples\n\n```r\np <- ggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#007A8C\") +\n  theme_cpal()\n\n# Default size\nsave_cpal_plot(p, \"plot.png\")\n\n# Presentation slide\nsave_cpal_plot(p, \"slide.png\", size = \"slide\")\n\n# Custom dimensions\nsave_cpal_plot(p, \"custom.png\", size = c(10, 6))\n\n# High-res print\nsave_cpal_plot(p, \"print.png\", dpi = 600)\n\n# PDF output\nsave_cpal_plot(p, \"plot.pdf\")\n```\n\n---\n\n## Adding Branding\n\n### `add_cpal_logo()` - ggplot2\n\nAdd the CPAL logo to any ggplot2 visualization.\n\n```r\nadd_cpal_logo(\n  plot,\n  position = \"top-right\",\n  size = 0.09,\n  logo_path = NULL\n)\n```\n\n| Argument | Description |\n|----------|-------------|\n| `position` | \"top-right\", \"top-left\", \"bottom-right\", \"bottom-left\" |\n| `size` | Logo size as proportion of plot (0-1) |\n\n**Features:**\n- Auto-detects white logo for dark themes\n- Maintains aspect ratio\n- Places logo outside the plot area\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"#006878\", size = 3) +\n  labs(title = \"Vehicle Fuel Efficiency\") +\n  theme_cpal()\n\nadd_cpal_logo(p, position = \"bottom-right\")\n```\n\n::: {.cell-output-display}\n![Plot with CPAL logo](themes-styling_files/figure-html/logo-example-1.png){width=80%}\n:::\n:::\n\n\n### `hc_add_cpal_logo()` - Highcharter\n\n```r\nhchart(data, \"column\", hcaes(x = x, y = y)) |>\n  hc_cpal_theme() |>\n  hc_add_cpal_logo(position = \"bottom-right\")\n```\n\n---\n\n## Accessibility Checking\n\n### `check_plot_accessibility()`\n\nAnalyze a plot for accessibility issues.\n\n```r\ncheck_plot_accessibility(plot, verbose = TRUE)\n```\n\n**Checks performed:**\n- Text size (readable)\n- Color contrast (WCAG standards)\n- Colorblind safety\n- Data-to-ink ratio\n\n```r\np <- ggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point() +\n  scale_color_cpal(\"main_3\") +\n  theme_cpal()\n\ncheck_plot_accessibility(p)\n#> ✓ All colors pass WCAG AA\n#> ✓ Color palette is colorblind-safe\n#> Overall: PASS\n```\n\n---\n\n## Quick Reference\n\n### ggplot2 Functions\n\n| Function | Purpose |\n|----------|---------|\n| `theme_cpal()` | Default CPAL theme |\n| `theme_cpal_dark()` | Dark background theme |\n| `theme_cpal_minimal()` | Minimal styling |\n| `theme_cpal_classic()` | Traditional with axis lines |\n| `theme_cpal_print()` | Print-optimized |\n| `theme_cpal_map()` | Geographic visualizations |\n| `theme_cpal_switch()` | Reactive light/dark switching |\n| `set_theme_cpal()` | Set session default |\n| `preview_cpal_themes()` | Compare all themes |\n| `save_cpal_plot()` | Save with standard dimensions |\n| `add_cpal_logo()` | Add CPAL branding |\n| `check_plot_accessibility()` | Check accessibility |\n\n### Highcharter Functions\n\n| Function | Purpose |\n|----------|---------|\n| `hc_cpal_theme()` | Apply CPAL theme to chart |\n| `hc_theme_cpal_light()` | Light mode theme object |\n| `hc_theme_cpal_dark()` | Dark mode theme object |\n| `hc_theme_cpal_switch()` | Reactive theme switching |\n| `hc_colors_cpal()` | Apply CPAL color palette |\n| `hc_add_cpal_logo()` | Add CPAL branding |\n\n---\n\n## Next Steps\n\n- [ggplot2 Gallery](gallery-ggplot2.qmd) - Static chart examples\n- [Highcharter Gallery](gallery-highcharter.qmd) - Interactive chart examples\n- [Colors & Palettes](colors-palettes.qmd) - CPAL color system\n- [Shiny Dashboards](shiny-dashboards.qmd) - Dashboard theming\n",
    "supporting": [
      "themes-styling_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}