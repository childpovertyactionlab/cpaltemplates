---
title: "cpaltemplates"
subtitle: "CPAL Data Visualization & Branding Toolkit"
---

```{r}
#| label: setup
#| include: false
library(cpaltemplates)
library(ggplot2)
library(dplyr)
```

## Welcome to cpaltemplates

**cpaltemplates** is the official R package for the Child Poverty Action Lab (CPAL) data science team. It provides a comprehensive toolkit for creating consistently branded, accessible, and professional data visualizations, reports, and dashboards.

### Why cpaltemplates?

**Consistent Branding**: Every visualization, table, and dashboard uses CPAL's official colors, fonts, and styling.

**Accessibility First**: All color palettes are designed for WCAG compliance with built-in validation tools.

**Rapid Development**: Start new projects with pre-configured templates.

---

## Quick Start

### Installation

```{r}
#| eval: false
# Install from GitHub
remotes::install_github("childpovertyactionlab/cpaltemplates")

# Load the package
library(cpaltemplates)

# Set up fonts (run once per session)
setup_cpal_google_fonts()
```

### Your First CPAL Plot

```{r}
#| label: first-plot
#| fig-cap: "A branded CPAL visualization"
ggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +
  geom_point(size = 3) +
  scale_color_cpal("main_3") +
  labs(
    title = "Vehicle Fuel Efficiency",
    subtitle = "Weight vs. Miles Per Gallon by Cylinder Count",
    x = "Weight (1000 lbs)",
    y = "Miles per Gallon",
    color = "Cylinders"
  ) +
  theme_cpal()
```

---

## Package Features

### Color System (21 functions)

Access CPAL's carefully designed color palettes:

```{r}
#| label: color-preview
# Primary brand colors
cpal_colors_primary()
```

```{r}
#| label: palette-visual
#| fig-height: 3
#| fig-cap: "CPAL color palettes"
view_cpal_palettes(c("main", "teal_seq_5", "pink_teal_5"))
```

[Learn more about Colors & Palettes](colors-palettes.qmd)

---

### Theme System (8 functions)

Consistent ggplot2 themes for every context:

| Theme | Use Case |
|-------|----------|
| `theme_cpal()` | Standard visualizations |
| `theme_cpal_minimal()` | Clean, minimal designs |
| `theme_cpal_dark()` | Dark backgrounds/presentations |
| `theme_cpal_print()` | Print-optimized output |
| `theme_cpal_map()` | Geographic visualizations |

```{r}
#| label: theme-example
#| fig-cap: "Example using theme_cpal()"
ggplot(mtcars, aes(x = factor(cyl), y = mpg, fill = factor(cyl))) +
  geom_boxplot(alpha = 0.8) +
  scale_fill_cpal("main_3") +
  labs(
    title = "Fuel Efficiency by Cylinder Count",
    x = "Cylinders",
    y = "Miles per Gallon"
  ) +
  theme_cpal() +
  theme(legend.position = "none")
```

[Learn more about Themes](themes-styling.qmd)

---

### Tables (3 functions)

Professional tables for reports and dashboards:

```{r}
#| label: table-example
mtcars |>
  head(6) |>
  select(mpg, cyl, hp, wt) |>
  cpal_table_gt(title = "Vehicle Specifications")
```

[Learn more about Tables](tables-gt.qmd)

---

### Project Scaffolding (7 functions)

Start new projects with pre-configured structure:

```{r}
#| eval: false
start_project(
  name = "dallas-housing-analysis",
  project_type = "analysis",
  features = c("git", "renv", "targets")
)

use_quarto_report()
```

Available project types: analysis, quarto-report, quarto-slides, quarto-web, shiny-dashboard, shiny-app, package

[Learn more about Project Setup](project-setup.qmd)

---

### Interactive Visualizations (7 functions)

Create interactive charts with ggiraph:

```{r}
#| eval: false
library(ggiraph)

p <- ggplot(data, aes(x, y)) +
  geom_point_interactive(aes(tooltip = label)) +
  theme_cpal()

cpal_interactive(p)
```

[Learn more about Interactive Features](interactive-features.qmd)

---

### Shiny Dashboards (5 functions)

Build branded dashboards with Bootstrap 5 theming:

```{r}
#| eval: false
library(shiny)
library(bslib)

ui <- page_sidebar(
  theme = cpal_dashboard_theme(),
  title = "CPAL Dashboard",
  sidebar = sidebar(...),
  ...
)
```

[Learn more about Shiny Dashboards](shiny-dashboards.qmd)

---

## Documentation Overview

| Section | Description |
|---------|-------------|
| [Getting Started](getting-started.qmd) | Installation, setup, and first steps |
| [Project Setup](project-setup.qmd) | Creating and configuring projects |
| [Colors & Palettes](colors-palettes.qmd) | Complete color system guide |
| [Themes & Styling](themes-styling.qmd) | ggplot2 theme documentation |
| [Plots & Output](plots-visualizations.qmd) | Creating and exporting visualizations |
| [Tables](tables-gt.qmd) | GT and Reactable table styling |
| [Interactive Features](interactive-features.qmd) | ggiraph and interactive charts |
| [Maps](maps-geographic.qmd) | Geographic visualizations |
| [Shiny Dashboards](shiny-dashboards.qmd) | Dashboard theming |
| [Brand & Assets](brand-assets.qmd) | Brand file management |
| [Utilities](utilities-helpers.qmd) | Helper functions |
| [Workflows](workflow-integration.qmd) | End-to-end examples |
| [Function Reference](function-reference.qmd) | Complete function index |
| [Troubleshooting](troubleshooting.qmd) | Common issues and solutions |

---

## Getting Help

- GitHub Issues: [Report bugs or request features](https://github.com/childpovertyactionlab/cpaltemplates/issues)
- Troubleshooting Guide: [Common solutions](troubleshooting.qmd)

---

## Package Statistics

- 67 exported functions across 8 categories
- 16 color palettes designed for accessibility
- 6 ggplot2 themes for different contexts
- 7 project templates for rapid development
