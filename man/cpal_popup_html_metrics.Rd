% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interactive.R
\name{cpal_popup_html_metrics}
\alias{cpal_popup_html_metrics}
\title{Create CPAL-styled popup HTML with metrics}
\usage{
cpal_popup_html_metrics(
  title,
  subtitle = NULL,
  metrics = NULL,
  body = NULL,
  footer = NULL,
  theme = c("light", "dark")
)
}
\arguments{
\item{title}{The popup title (can be a column value or static text)}

\item{subtitle}{Optional subtitle displayed below the title}

\item{metrics}{Optional named list or vector of key metrics to highlight.
Displayed prominently between subtitle and body. Names become labels,
values become the displayed metrics.}

\item{body}{The popup body content. Can include HTML like \code{<br>} for
line breaks. Build with \code{paste0()} or \code{glue::glue()} for
dynamic content.}

\item{footer}{Optional footer text displayed at bottom in smaller, muted text.
Useful for data sources, timestamps, or disclaimers.}

\item{theme}{Color theme: "light" (default) or "dark"}
}
\value{
A character string containing styled HTML
}
\description{
Generate consistently styled HTML for map popup content with support for
highlighted metrics and footers. Use this to create a popup column in your
sf data, then reference it in the \code{popup} parameter of layer functions.
}
\details{
This function generates the HTML content inside the popup. For best results,
also use \code{\link{add_cpal_popup_style}} to style the popup container.

The function applies:
\itemize{
  \item CPAL brand colors for visual hierarchy
  \item Prominent metric display with large values
  \item Proper typography hierarchy
  \item Consistent spacing
}
}
\examples{
\dontrun{
library(dplyr)
library(mapgl)

# Basic popup with metrics
nc <- nc |>
  mutate(
    popup = cpal_popup_html_metrics(
      title = NAME,
      subtitle = "County",
      metrics = c(
        "Population" = scales::comma(population),
        "Poverty Rate" = paste0(poverty_rate, "\%")
      ),
      footer = "Source: US Census Bureau"
    )
  )

# With body text
nc <- nc |>
  mutate(
    popup = cpal_popup_html_metrics(
      title = NAME,
      subtitle = "County Overview",
      metrics = c("Poverty Rate" = paste0(poverty_rate, "\%")),
      body = paste0(
        "This county has a total area of ", round(AREA, 1), " sq mi ",
        "and is located in the ", region, " region."
      ),
      footer = "Data as of 2023"
    )
  )

# Use in map
cpal_mapgl() |>
  add_fill_layer(
    id = "counties",
    source = nc,
    fill_color = "#008097",
    popup = "popup"
  ) |>
  add_cpal_popup_style()
}

}
